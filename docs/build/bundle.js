var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function u(t){let e;return c(t,t=>e=t)(),e}function o(t,e,n){t.$$.on_destroy.push(c(e,n))}function i(t,e,n=e){return t.set(n),e}function a(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function p(){return g(" ")}function h(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){(null!=e||t.value)&&(t.value=e)}function b(t,e,n){t.classList[n?"add":"remove"](e)}let x;function k(t){x=t}const q=[],_=[],w=[],M=[],L=Promise.resolve();let E=!1;function O(t){w.push(t)}let A=!1;const N=new Set;function I(){if(!A){A=!0;do{for(let t=0;t<q.length;t+=1){const e=q[t];k(e),S(e.$$)}for(q.length=0;_.length;)_.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];N.has(e)||(N.add(e),e())}w.length=0}while(q.length);for(;M.length;)M.pop()();E=!1,A=!1,N.clear()}}function S(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const T=new Set;function H(t,e){t&&t.i&&(T.delete(t),t.i(e))}function j(t,e){t.d(1),e.delete(t.key)}function C(t,n,l){const{fragment:c,on_mount:u,on_destroy:o,after_update:i}=t.$$;c&&c.m(n,l),O(()=>{const n=u.map(e).filter(r);o?o.push(...n):s(n),t.$$.on_mount=[]}),i.forEach(O)}function B(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(q.push(t),E||(E=!0,L.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(e,r,l,c,u,o,i=[-1]){const a=x;k(e);const f=r.props||{},m=e.$$={fragment:null,ctx:null,props:o,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:i};let g=!1;if(m.ctx=l?l(e,f,(t,n,...s)=>{const r=s.length?s[0]:n;return m.ctx&&u(m.ctx[t],m.ctx[t]=r)&&(m.bound[t]&&m.bound[t](r),g&&P(e,t)),n}):[],m.update(),g=!0,s(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();r.intro&&H(e.$$.fragment),C(e,r.target,r.anchor),I()}k(a)}class z{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const D=[];function F(e,n=t){let s;const r=[];function c(t){if(l(e,t)&&(e=t,s)){const t=!D.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),D.push(n,e)}if(t){for(let t=0;t<D.length;t+=2)D[t][0](D[t+1]);D.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(l,u=t){const o=[l,u];return r.push(o),1===r.length&&(s=n(c)||t),l(e),()=>{const t=r.indexOf(o);-1!==t&&r.splice(t,1),0===r.length&&(s(),s=null)}}}}function G(e,n,l){const u=!Array.isArray(e),o=u?[e]:e,i=n.length<2;return function(t,e){return{subscribe:F(t,e).subscribe}}(l,e=>{let l=!1;const a=[];let f=0,d=t;const m=()=>{if(f)return;d();const s=n(u?a[0]:a,e);i?e(s):d=r(s)?s:t},g=o.map((t,e)=>c(t,t=>{a[e]=t,f&=~(1<<e),l&&m()},()=>{f|=1<<e}));return l=!0,m(),function(){s(g),d()}})}const J=F([]),K=F(null);let Q=F(null);const U=G(Q,t=>!!t),V=G(K,t=>null!=t);let W=null;const X=G([J,K],([t,e],n)=>{if(W=n,!t.length)return n(null);const s=e%t.length,r=null!=e&&t[s];if(!r)return n(null);n({...r,timeLeft:r.time,index:s})}),Y=G([J,K],([t,e])=>null!=e&&t.length?Math.floor(e/t.length)+1:0),Z={subscribe:J.subscribe,set:t=>{nt(),J.set(t)},update:t=>Z.set(t(u(J)))},tt=()=>{const t=u(Q);t&&(clearInterval(t),Q.set(null))},et=()=>{let t=u(X);if(!t)return tt();t.timeLeft--<=0?K.update(t=>++t):W(t)},nt=()=>{st(),K.set(null)},st=()=>{tt()},rt=t=>{let e=t%60;return`${Math.floor(t/60)}:${e<10?"0":""}${e}`},lt=t=>{const[e,n]=t.split(":"),s=60*parseInt(e)+parseInt(n);return isNaN(s)?0:s},ct=t=>((t,e=null)=>{let n=e,s=t.string(e);return{get value(){return n},set value(e){n=e,s=t.string(e)},get value$(){return s},set value$(e){s=e,n=t.value(e)}}})({string:rt,value:lt},t);function ut(e){let n,s;return{c(){n=m("div"),s=g(e[0]),v(n,"class","svelte-5rc7cf")},m(t,e){f(t,n,e),a(n,s)},p(t,[e]){1&e&&$(s,t[0])},i:t,o:t,d(t){t&&d(n)}}}function ot(t,e,n){let s,{time:r=0}=e;return t.$set=t=>{"time"in t&&n(1,r=t.time)},t.$$.update=()=>{2&t.$$.dirty&&n(0,s=rt(r))},[s,r]}class it extends z{constructor(t){super(),R(this,t,ot,ut,l,{time:1})}}function at(t,e,n){const s=t.slice();return s[15]=e[n],s[16]=e,s[17]=n,s}function ft(t){let e,n;return{c(){e=m("img"),e.src!==(n="images/play.svg")&&v(e,"src","images/play.svg"),v(e,"alt","play"),v(e,"class","svelte-cnq0x1")},m(t,n){f(t,e,n)},d(t){t&&d(e)}}}function dt(t){let e,n;return{c(){e=m("img"),e.src!==(n="images/pause.svg")&&v(e,"src","images/pause.svg"),v(e,"alt","pause"),v(e,"class","svelte-cnq0x1")},m(t,n){f(t,e,n)},d(t){t&&d(e)}}}function mt(t,e){let n,r,l,c,u,o,i;function g(){e[12].call(r,e[15])}function $(){e[13].call(c,e[15])}function x(...t){return e[14](e[17],...t)}return{key:t,first:null,c(){n=m("div"),r=m("input"),l=p(),c=m("input"),u=p(),o=m("button"),o.innerHTML='<img src="images/remove.svg" alt="remove" class="svelte-cnq0x1">',r.readOnly=e[3],v(r,"class","time svelte-cnq0x1"),c.readOnly=e[3],v(c,"class","name svelte-cnq0x1"),v(o,"class","svelte-cnq0x1"),v(n,"class","input-row svelte-cnq0x1"),b(n,"active",e[17]===e[2]),this.first=n},m(t,d,m){f(t,n,d),a(n,r),y(r,e[15].time.value$),a(n,l),a(n,c),y(c,e[15].name),a(n,u),a(n,o),m&&s(i),i=[h(r,"input",g),h(c,"input",$),h(o,"click",x)]},p(t,s){e=t,8&s&&(r.readOnly=e[3]),1&s&&r.value!==e[15].time.value$&&y(r,e[15].time.value$),8&s&&(c.readOnly=e[3]),1&s&&c.value!==e[15].name&&y(c,e[15].name),5&s&&b(n,"active",e[17]===e[2])},d(t){t&&d(n),s(i)}}}function gt(t){let e,n,r,l,c,u,o,i,y,x,k,q,_,w,M,L,E,O=[],A=new Map;function N(t,e){return t[4]?dt:ft}let I=N(t),S=I(t);const P=new it({props:{time:t[1]}});let R=t[0];const z=t=>t[15];for(let e=0;e<R.length;e+=1){let n=at(t,R,e),s=z(n);A.set(s,O[e]=mt(s,n))}return{c(){var s;e=m("main"),n=m("div"),r=m("div"),l=m("button"),S.c(),c=p(),u=m("button"),u.innerHTML='<img src="images/stop.svg" alt="stop" class="svelte-cnq0x1">',o=p(),i=m("div"),y=g("Round: "),x=g(t[5]),k=p(),(s=P.$$.fragment)&&s.c(),q=p();for(let t=0;t<O.length;t+=1)O[t].c();_=p(),w=m("div"),M=m("button"),M.innerHTML='<img src="images/add.svg" alt="add" class="svelte-cnq0x1">',v(l,"class","svelte-cnq0x1"),v(u,"class","svelte-cnq0x1"),v(r,"class","buttons"),v(i,"class","round"),v(M,"class","svelte-cnq0x1"),v(w,"class","add svelte-cnq0x1"),v(n,"class","svelte-cnq0x1"),b(n,"running",t[4]),b(n,"started",t[3]),v(e,"class","svelte-cnq0x1")},m(d,m,g){f(d,e,m),a(e,n),a(n,r),a(r,l),S.m(l,null),a(r,c),a(r,u),a(n,o),a(n,i),a(i,y),a(i,x),a(n,k),C(P,n,null),a(n,q);for(let t=0;t<O.length;t+=1)O[t].m(n,null);a(n,_),a(n,w),a(w,M),L=!0,g&&s(E),E=[h(l,"click",t[6]),h(u,"click",t[11]),h(M,"click",t[8])]},p(t,[e]){I!==(I=N(t))&&(S.d(1),S=I(t),S&&(S.c(),S.m(l,null))),(!L||32&e)&&$(x,t[5]);const s={};if(2&e&&(s.time=t[1]),P.$set(s),141&e){const s=t[0];O=function(t,e,n,s,r,l,c,u,o,i,a,f){let d=t.length,m=l.length,g=d;const p={};for(;g--;)p[t[g].key]=g;const h=[],v=new Map,$=new Map;for(g=m;g--;){const t=f(r,l,g),u=n(t);let o=c.get(u);o?s&&o.p(t,e):(o=i(u,t),o.c()),v.set(u,h[g]=o),u in p&&$.set(u,Math.abs(g-p[u]))}const y=new Set,b=new Set;function x(t){H(t,1),t.m(u,a,c.has(t.key)),c.set(t.key,t),a=t.first,m--}for(;d&&m;){const e=h[m-1],n=t[d-1],s=e.key,r=n.key;e===n?(a=e.first,d--,m--):v.has(r)?!c.has(s)||y.has(s)?x(e):b.has(r)?d--:$.get(s)>$.get(r)?(b.add(s),x(e)):(y.add(r),d--):(o(n,c),d--)}for(;d--;){const e=t[d];v.has(e.key)||o(e,c)}for(;m;)x(h[m-1]);return h}(O,e,z,1,t,s,A,n,j,mt,_,at)}16&e&&b(n,"running",t[4]),8&e&&b(n,"started",t[3])},i(t){L||(H(P.$$.fragment,t),L=!0)},o(t){!function(t,e,n,s){if(t&&t.o){if(T.has(t))return;T.add(t),(void 0).c.push(()=>{T.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}(P.$$.fragment,t),L=!1},d(t){t&&d(e),S.d(),B(P);for(let t=0;t<O.length;t+=1)O[t].d();s(E)}}}function pt(t,e,n){let s,r,l,c,a;o(t,Z,t=>n(9,s=t)),o(t,X,t=>n(10,r=t)),o(t,V,t=>n(3,l=t)),o(t,U,t=>n(4,c=t)),o(t,Y,t=>n(5,a=t)),i(Z,s=[{name:"action",time:10},{name:"break",time:5}]);let f=s.map(t=>({name:t.name,time:ct(t.time)}));const d=t=>{n(0,f=f.filter((e,n)=>t!==n))};let m,g;return t.$$.update=()=>{1024&t.$$.dirty&&n(1,m=r&&r.timeLeft||0),1024&t.$$.dirty&&n(2,g=r&&r.index)},[f,m,g,l,c,a,()=>{if(l&&c)return st();l||i(Z,s=f.map(t=>({name:t.name,time:t.time.value}))),((t=!0)=>{u(U)||(t&&(K.set(null),K.set(0)),Q.set(setInterval(et,1e3)))})(!l)},d,()=>{n(0,f=[...f,{name:"new",time:ct(0)}])},s,r,()=>nt(),function(t){t.time.value$=this.value,n(0,f)},function(t){t.name=this.value,n(0,f)},t=>d(t)]}return new class extends z{constructor(t){super(),R(this,t,pt,gt,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
